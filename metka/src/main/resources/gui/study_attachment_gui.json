{
	"key": {
		"type": "STUDY_ATTACHMENT",
		"version": 1
	},
	"fieldTitles": {
		"date": {
			"key": "date",
			"title": "Tallennettu"
		},
		"user": {
			"key": "user",
			"title": "Tallentaja"
		},
		"no": {
			"key": "no",
			"title": "Revisio"
		},
		"state": {
			"key": "user",
			"title": "Tila"
		},
		"filecomment": {
			"key": "filecomment",
			"title": "Kommentti"
		}
	},
	"content": [
		{
			"type": "COLUMN",
			"columns": 1,
			"rows": [
				{
					"type": "ROW",
					"cells": [
						{
							"type": "CELL",
							"title": "Tiedoston polku",
							"horizontal": true,
							"field": {
								"key": "file"
							}
						}
					]
				},
				{
					"type": "ROW",
					"cells": [
						{
							"type": "CELL",
							"title": "Virallinen selite",
							"horizontal": true,
							"field": {
								"key": "filedescription",
								"multiline": true
							}
						}
					]
				},
				{
					"type": "ROW",
					"cells": [
						{
							"type": "CELL",
							"title": "Epävirallinen selite",
							"horizontal": true,
							"field": {
								"key": "filenotes",
								"multiline": true
							}
						}
					]
				},
				{
					"type": "ROW",
					"cells": [
						{
							"type": "CELL",
							"title": "Kommentti",
							"horizontal": true,
							"field": {
								"key": "filecomment",
								"multiline": true
							}
						}
					]
				},
				{
					"type": "ROW",
					"cells": [
						{
							"type": "CELL",
							"title": "Tyyppi",
							"horizontal": true,
							"field": {
								"key": "filecategory"
							}
						}
					]
				},
				{
					"type": "ROW",
					"cells": [
						{
							"type": "CELL",
							"title": "PAS",
							"horizontal": true,
							"field": {
								"key": "fileaip"
							}
						}
					]
				},
				{
					"type": "ROW",
					"cells": [
						{
							"type": "CELL",
							"title": "Kieli",
							"horizontal": true,
							"field": {
								"key": "filelanguage"
							}
						}
					]
				},
				{
					"type": "ROW",
					"cells": [
						{
							"type": "CELL",
							"title": "Alkuperäinen",
							"horizontal": true,
							"field": {
								"key": "fileoriginal"
							},
							"_comment": "TODO: näytä huomautus, jos valinnan muutos ja tallennus aiheuttavat muutoksia muuttujiin"

						}
					]
				},
				{
					"type": "ROW",
					"cells": [
						{
							"type": "CELL",
							"title": "WWW",
							"horizontal": true,
							"field": {
								"key": "filepublication"
							}
						}
					]
				},
				{
					"type": "ROW",
					"cells": [
						{
							"type": "CELL",
							"title": "Ulosluovutus",
							"horizontal": true,
							"field": {
								"key": "filedip"
							}
						}
					]
				},
				{
					"type": "ROW",
					"cells": [
						{
							"type": "CELL",
							"title": "Parsi muuttujat uudelleen tallennuksen yhteydessä",
							"field": {
								"displayType": "CUSTOM_JS",
								"key": "parsed"
							}
						}
					]
				},
				{
					"type": "ROW",
					"cells": [
						{
							"type": "CELL",
							"title": "Tiedostohistoria",
							"readOnly": true,
							"field": {
								"displayType": "CUSTOM_JS",
								"key": "custom_fileHistory",
								"columnFields": [
									"no",
									"state",
									"filecomment",
									"date",
									"user"
								]
							}
						}
					]
				}
			]
		}
	],
	"buttons": [
		{
			"type": "CUSTOM",
			"title": "Tallenna",
			"states": [
				"DRAFT"
			],
			"isHandler": true,
			"permissions": [
				"canEditRevision"
			],
			"customHandler": "studyAttachmentSave"
		}, {
			"type": "EDIT",
			"title": "Tee luonnos",
			"isHandledByUser": "study",
			"permissions": [
				"canEditRevision"
			],
			"states": [
				"APPROVED"
			]
		}, {
			"type": "CUSTOM",
			"title": "Poista",
			"states": [
				"DRAFT",
				"APPROVED"
			],
			"isHandler": true,
			"isHandledByUser": "study",
			"permissions": [
				"canRemoveRevision"
			],
			"customHandler": "studyAttachmentRemove"
		}, {
			"title": "Palauta",
			"type": "CUSTOM",
			"states": [
				"REMOVED"
			],
			"permissions": [
				"canRestoreRevision"
			],
			"isHandledByUser": "study",
			"customHandler": "studyAttachmentRestore"
		}, {
			"type": "CANCEL"
		}
	]
}
